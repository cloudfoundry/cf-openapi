description: A request to create a service credential binding
content:
  application/json:
    schema:
      type: object
      required:
        - type
        - relationships
      properties:
        type:
          type: string
          enum:
            - app
            - key
          description: Type of the service credential binding. Valid values are key and app
        name:
          type: string
          description: Name of the service credential binding. name is optional when the type is app
        relationships:
          type: object
          required:
            - service_instance
          properties:
            service_instance:
              $ref: '../schemas/RelationshipToOne.yaml'
              description: The service instance to be bound
            app:
              $ref: '../schemas/RelationshipToOne.yaml'
              description: The app to be bound. Required when type is app
          description: Relationships for the service credential binding
        parameters:
          type: object
          description: A JSON object that is passed to the service broker
        metadata:
          $ref: '../schemas/Metadata.yaml'
    examples:
      app_credential_binding:
        summary: App credential binding
        value:
          type: app
          name: some-binding-name
          relationships:
            service_instance:
              data:
                guid: "7304bc3c-7010-11ea-8840-48bf6bec2d78"
            app:
              data:
                guid: "e0e4417c-74ee-11ea-a604-48bf6bec2d78"
          parameters:
            key1: value1
            key2: value2
          metadata:
            labels:
              foo: bar
            annotations:
              baz: qux
      key_credential_binding:
        summary: Key credential binding
        value:
          type: key
          name: some-binding-name
          relationships:
            service_instance:
              data:
                guid: "7304bc3c-7010-11ea-8840-48bf6bec2d78"
          parameters:
            key1: value1
            key2: value2
          metadata:
            labels:
              foo: bar
            annotations:
              baz: qux

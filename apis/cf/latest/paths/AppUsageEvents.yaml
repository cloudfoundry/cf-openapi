/v3/app_usage_events:
  get:
    summary: List app usage events
    description: Retrieve all app usage events the user has access to.
    operationId: listAppUsageEvents
    tags:
      - App Usage Events
    parameters:
      - $ref: ../components/parameters/Page.yaml
      - $ref: ../components/parameters/PerPage.yaml
      - $ref: ../components/parameters/OrderBy.yaml
      - name: after_guid
        in: query
        schema:
          type: string
        description: Filters out events before and including the event with the given guid
      - name: guids
        in: query
        schema:
          type: array
          items:
            type: string
        description: Comma-delimited list of usage event guids to filter by
      - $ref: ../components/parameters/CreatedAts.yaml
    responses:
      '200':
        description: OK
        content:
          application/json:
            schema:
              $ref: ../components/schemas/AppUsageEventList.yaml
      '401':
        $ref: ../components/responses/Unauthorized.yaml
      '404':
        $ref: '../components/responses/NotFound.yaml'
/v3/app_usage_events/{guid}:
  get:
    summary: Get an app usage event
    description: Retrieve a specific app usage event by its GUID.
    operationId: getAppUsageEvent
    tags:
      - App Usage Events
    parameters:
      - $ref: ../components/parameters/Guid.yaml
    responses:
      '200':
        description: OK
        content:
          application/json:
            schema:
              $ref: ../components/schemas/AppUsageEvent.yaml
      '401':
        $ref: '../components/responses/Unauthorized.yaml'
      '404':
        $ref: ../components/responses/NotFound.yaml
/v3/app_usage_events/actions/destructively_purge_all_and_reseed:
  post:
    summary: Purge and seed app usage events
    description: |-
      Destroys all existing events. Populates new usage events, one for each
      started app. All populated events will have a created_at value of
      current time. There is the potential race condition if apps are
      currently being started, stopped, or scaled. The seeded usage events
      will have the same guid as the app.
    operationId: purgeAndSeedAppUsageEvents
    tags:
      - App Usage Events
    responses:
      '200':
        description: OK
      '401':
        $ref: '../components/responses/Unauthorized.yaml'
      '404':
        $ref: '../components/responses/NotFound.yaml'
